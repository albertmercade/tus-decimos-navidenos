{"version":3,"sources":["components/header/header.js","components/loading/loading.js","assets/images/logo-tve.png","assets/images/logo-rne.png","components/statusInfo/statusinfo.js","assets/images/logo-elpais.png","components/ticket/ticket.js","components/ownedTickets/ownedTickets.js","components/footer/footer.js","assets/images/2023-ticket-template.jpg","utils/generateTicketUtil.js","App.js","utils/date.utils.js","index.js"],"names":["Header","_jsx","id","children","Loading","Spinner","animation","role","className","countdown","timeLeft","days","hours","mins","secs","_jsxs","_Fragment","concat","liveLottery","href","src","logoTVE","alt","logoRNE","statusContent","status","timeFinished","StatusInfo","props","lotteryStatus","nextDrawDate","setTimeFinished","useState","Date","setTimeLeft","drawDate","timeDiff","totalSecs","Math","floor","timeToLottery","useEffect","interval","setInterval","decreaseTimeLeft","clearInterval","Ticket","lotteryStarted","lotteryFinished","imgData","prize","earnings","removeTicket","onClick","IoMdCloseCircle","size","color","AddTicketModal","handleClose","submitForm","showModal","clicked","errors","Modal","show","centered","onHide","closeButton","Title","Form","onSubmit","Body","Group","controlId","Label","Control","type","name","placeholder","maxLength","isInvalid","number","Feedback","InputGroup","moneyPlayed","Text","Footer","Button","variant","OwnedTickets","loading","aggregateData","tickets","addTicket","showAddTicket","setShowAddTicket","setClicked","setErrors","isMobile","useMediaQuery","query","length","disabled","totalEarnings","totalMoneyPlayed","map","ticket","idx","event","preventDefault","parseInt","target","value","err","Object","keys","NUMSDICT","NEXT_DRAW_DATE","currDate","currYear","getFullYear","lotteryDate","setFullYear","App","ticketInfoList","setTicketInfoList","setLoading","aggregate","setAggregate","setLotteryStatus","setLotteryStarted","setLotteryFinished","getTicketsData","async","results","Promise","all","ticketList","resp","superagent","get","numberArray","numArray","toString","split","Array","fill","numToArray","ticketNumber","arguments","undefined","money","canvas","createCanvas","context","getContext","ticketTemplateImage","loadImage","ticketTemplate","drawImage","font","textAlign","fillStyle","fillText","num","entries","toDataURL","generateLotteryTicket","body","premio","ticketPrizes","reduce","sum","respStatus","loadTicketPrizesAndImgs","JSON","parse","localStorage","getItem","unshift","setItem","stringify","ticketInfo","_","splice","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.72fd873a.chunk.js","sourcesContent":["import \"./header.scss\";\n\nconst Header = () => {\n  return (\n    <div id=\"header\">\n      <h1>Tus Décimos Navideños</h1>\n    </div>\n  );\n};\n\nexport default Header;\n","import Spinner from \"react-bootstrap/Spinner\";\n\nimport \"./loading.scss\";\n\nconst Loading = () => {\n  return (\n    <div id=\"loading-wrapper\">\n      <Spinner animation=\"border\" role=\"status\">\n        <span className=\"visually-hidden\">Loading...</span>\n      </Spinner>\n    </div>\n  );\n};\n\nexport default Loading;\n","export default __webpack_public_path__ + \"static/media/logo-tve.61c8970d.png\";","export default __webpack_public_path__ + \"static/media/logo-rne.f7023627.png\";","import { useEffect, useState } from \"react\";\n\nimport Loading from \"../loading/loading\";\n\nimport logoTVE from \"../../assets/images/logo-tve.png\";\nimport logoRNE from \"../../assets/images/logo-rne.png\";\nimport logoEP from \"../../assets/images/logo-elpais.png\";\n\nimport \"./statusinfo.scss\";\n\nconst timeToLottery = (drawDate) => {\n  const timeDiff = drawDate - new Date();\n\n  const totalSecs = Math.floor(timeDiff / 1000);\n  return {\n    days: Math.floor(totalSecs / (60 * 60 * 24)),\n    hours: Math.floor((totalSecs / (60 * 60)) % 24),\n    mins: Math.floor((totalSecs / 60) % 60),\n    secs: totalSecs % 60,\n  };\n};\n\nconst decreaseTimeLeft = (timeLeft) => {\n  let { days, hours, mins, secs } = timeLeft;\n\n  secs -= 1;\n  if (secs < 0) {\n    secs = 59;\n    mins -= 1;\n  }\n\n  if (mins < 0) {\n    mins = 59;\n    hours -= 1;\n  }\n\n  if (hours < 0) {\n    hours = 23;\n    days -= 1;\n  }\n\n  return { days, hours, mins, secs };\n};\n\nconst countdown = (timeLeft) => {\n  const { days, hours, mins, secs } = timeLeft;\n  return (\n    <div id=\"countdown-timer-wrapper\">\n      {timeLeft.days < 21 ? (\n        <h3>El sorteo empezará en</h3>\n      ) : (\n        <>\n          <h2>¡Hasta el próximo sorteo!</h2>\n          <h4>Quedan..</h4>\n        </>\n      )}\n      <div id=\"countdown-timer\">\n        <div className=\"countdown-item\">\n          <h1>{days < 10 ? `0${days}` : days}</h1>\n          <p>Días</p>\n        </div>\n        <div className=\"countdown-item\">\n          <h1>{hours < 10 ? `0${hours}` : hours}</h1>\n          <p>Horas</p>\n        </div>\n        <div className=\"countdown-item\">\n          <h1>{mins < 10 ? `0${mins}` : mins}</h1>\n          <p>Minutos</p>\n        </div>\n        <div className=\"countdown-item\">\n          <h1>{secs < 10 ? `0${secs}` : secs}</h1>\n          <p>Segundos</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst liveLottery = () => {\n  return (\n    <div id=\"live-lottery-wrapper\">\n      <h1>¡El sorteo ha empezado!</h1>\n      <h4>Síguelo en directo con...</h4>\n      <div>\n        <a\n          id=\"link-tve\"\n          href=\"https://www.rtve.es/play/videos/directo/canales-lineales/la-1/\"\n        >\n          <img src={logoTVE} alt=\"Logo TVE\" />\n          <p>Televisión Española</p>\n        </a>\n        <a id=\"link-rne\" href=\"https://www.rtve.es/play/radio/\">\n          <img src={logoRNE} alt=\"Logo RNE\" />\n          <p>Radio Nacional de España</p>\n        </a>\n        <a id=\"link-elpais\" href=\"https://elpais.com/noticias/loteria-navidad/\">\n          <img src={logoEP} alt=\"Logo El País\" />\n          <p>El País</p>\n        </a>\n      </div>\n    </div>\n  );\n};\n\nconst provisionalResults = () => {\n  return (\n    <div id=\"finished-lottery-wrapper\">\n      <h1>¡El sorteo ha finalizado!</h1>\n      <h4>Los resultados son provisionales, aunque deberían ser correctos.</h4>\n    </div>\n  );\n};\n\nconst definitiveResults = () => {\n  return (\n    <div id=\"finished-lottery-wrapper\">\n      <h1>¡El sorteo ha finalizado!</h1>\n      <h4>Los resultados son oficiales.</h4>\n    </div>\n  );\n};\n\nconst statusContent = (status, timeLeft, timeFinished) => {\n  switch (status) {\n    case 0:\n      return timeFinished ? liveLottery() : countdown(timeLeft);\n    case 1:\n      return liveLottery();\n    case 2:\n    case 3:\n      return provisionalResults();\n    case 4:\n      return timeLeft.days > 355 ? definitiveResults() : countdown(timeLeft);\n    default:\n      return <Loading />;\n  }\n};\n\nconst StatusInfo = (props) => {\n  const { lotteryStatus, nextDrawDate } = props;\n\n  const [timeFinished, setTimeFinished] = useState(\n    nextDrawDate - new Date() < 0\n  );\n  const [timeLeft, setTimeLeft] = useState(timeToLottery(nextDrawDate));\n\n  useEffect(() => {\n    if (!timeFinished) {\n      var interval =\n        (lotteryStatus === 0 || lotteryStatus >= 4) &&\n        setInterval(() => {\n          setTimeLeft((timeLeft) => decreaseTimeLeft(timeLeft));\n        }, 1000);\n    }\n    return () => clearInterval(interval);\n  }, [lotteryStatus, timeFinished]);\n\n  useEffect(() => {\n    setTimeFinished(timeLeft.days < 0);\n  }, [timeLeft]);\n\n  return (\n    <div id=\"statusinfo-wrapper\">\n      {statusContent(lotteryStatus, timeLeft, timeFinished)}\n    </div>\n  );\n};\n\nexport default StatusInfo;\n","export default \"data:image/png;base64,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LjAvIgogICB4bXBNTTpEb2N1bWVudElEPSJnaW1wOmRvY2lkOmdpbXA6MGU0M2E3Y2EtYmUxOC00ZGNkLWE4YzMtNTU5NjMwZGM3MjRiIgogICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjgzMTMzODM3LTg1YTItNDBlMC04NGRhLTIzZmM3MTk1YjkzNyIKICAgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjliZjRlMDRlLTg0OTUtNDdjNC04NmYzLTlkYjcwMTI3ZDU0MCIKICAgZGM6Rm9ybWF0PSJpbWFnZS9wbmciCiAgIEdJTVA6QVBJPSIyLjAiCiAgIEdJTVA6UGxhdGZvcm09Ik1hYyBPUyIKICAgR0lNUDpUaW1lU3RhbXA9IjE2Mzk4NjgyMzkwMjQ2MDEiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4yOCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiMzZhMTA3MS0wNmEzLTQ2MWMtOTc2OC1jNTk1MmMwYWNjZmMiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTWFjIE9TKSIKICAgICAgc3RFdnQ6d2hlbj0iMjAyMS0xMi0xOFQyMzo1NzoxOSswMTowMCIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz7x1POcAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5QwSFjkTJyxBIgAAAwdJREFUeNrt3U1KHEEYgOGuOKILdZGFB1BkEBwdiOKNcoVcIVfIjVxk4Q8oKvYFRCOjI4hIZxGSTQzOmMSur/p5LjBj9TufNdo/VQUAAAAAAAAAAAAAAAAAAAAAAAAAAPBqKac3s7Ky0jgkcdR13Wo/7xwCohIv4gXxgngRL4gXxAviRbwgXphGivrGh8NhMxqN3vQ1l5eX3+/t7X3L4eff3Nxs7u7uWn0PbZ/bkEr5FL7FST1tH6xc1kG8AQ9chHi7tB5F7XmjxfUW61HymhT3hW1+fl61z0ScUhJv7o6Pj03fZ1xcXKRerydeYjo7OytqAou3gxNYvPhiK17aUML2Qby2D+IF8WLvK15MXshUzxLkY5oTaf7Vr/y6rlPU22yZvNg2gHhBvExqYWFBvMR0eHiYxAviBfEiXv63jY0Nz+MQb0z39/etvv7MzIx4ien8/DyJF8TbHevr6/a74o3p4eHBIog3nu3t7S9WQbwhXV9ff7QK4g3Hs5b/jisphPtLtAsyTV7hmryIVrwZGwwGzdHR0Yu/Wnd3dz/c3Nx8fXx8tGjizcN4PJ5oel5eXlose14QL+IF8YJ4ES+IF8QL4kW8kBn/Hp7C4uJidXBwMNFpg4PBoBmPxxZNvHmYNNyqqqrnTuBxVpltQ1h1XadSnj4p3g5HbBXEK2DxImBf2JjS0tJSNRqNsngv03yhTCm1/vxik7dl+/v7pq9445qdnbUI4o3p9PTU9BUv4gXxMqm5uTmLIN6YTk5O7HvFy2tsbW014iWk29tbkxfEC+JFvCBecrOzs/NJvIR0dXX1WbwgXniZKyky4rIgk5cpRL6XhHgxeUG82DKIF5OXIvX7/Ua8hFTCo2XFa68rXhAvpm5X4x0Oh+4+3oFwi4w3lzsuCle8CPePeg5Sufr9flPCn8SKj1e4v0dbcrhFxLu2ttY8PT11PtjV1dWmaX58fkuP9qesTn42PQOF47b+IF7EC+IF8YJ4ES+IF8SLeEG8AAAAAAAAAAAAAAAAAAAAAAAAAAAAkL3vboXa0FlaW9UAAAAASUVORK5CYII=\"","import { IoMdCloseCircle } from \"react-icons/io\";\n\nimport \"./ticket.scss\";\n\nconst Ticket = (props) => {\n  const {\n    lotteryStarted,\n    lotteryFinished,\n    imgData,\n    prize,\n    earnings,\n    removeTicket,\n  } = props;\n\n  return (\n    <div className=\"ticket-wrapper\">\n      <img src={imgData} alt={`Billete de lotería con el `} />\n      {lotteryStarted && (\n        <div className=\"prize-info-wrapper\">\n          {prize > 0 ? (\n            <>\n              <p>Tus ganancias:</p>\n              <p>\n                <span>{earnings}€</span>\n              </p>\n            </>\n          ) : lotteryFinished ? (\n            <p>No ha salido premiado.</p>\n          ) : (\n            <p>No ha salido premiado todavía.</p>\n          )}\n        </div>\n      )}\n      <button className=\"delete-ticket\" onClick={removeTicket}>\n        <IoMdCloseCircle size=\"2rem\" color=\"#ad1313\" className=\"delete-icon\" />\n      </button>\n    </div>\n  );\n};\n\nexport default Ticket;\n","import { useState } from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\n\n// Third-party components\nimport Modal from \"react-bootstrap/Modal\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\n\n// Local Components\nimport Loading from \"../loading/loading\";\nimport Ticket from \"../ticket/ticket\";\n\nimport \"./ownedTickets.scss\";\n\nconst AddTicketModal = (props) => {\n  const { handleClose, submitForm, showModal, clicked, errors } = props;\n\n  return (\n    <Modal show={showModal} centered onHide={handleClose}>\n      <Modal.Header closeButton>\n        <Modal.Title>Añadir décimo</Modal.Title>\n      </Modal.Header>\n      <Form onSubmit={submitForm}>\n        <Modal.Body>\n          <Form.Group className=\"mb-3\" controlId=\"ticketNumber\">\n            <Form.Label>Número del décimo</Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"number\"\n              placeholder=\"01234\"\n              maxLength={5}\n              isInvalid={clicked && errors.number}\n            />\n            <Form.Control.Feedback type=\"invalid\">\n              {errors.number}\n            </Form.Control.Feedback>\n          </Form.Group>\n          <Form.Group className=\"mb-3\" controlId=\"ticketMoneyPlayed\">\n            <Form.Label>Dinero jugado</Form.Label>\n            <InputGroup>\n              <Form.Control\n                type=\"text\"\n                name=\"moneyPlayed\"\n                placeholder=\"20\"\n                isInvalid={clicked && errors.moneyPlayed}\n              />\n              <InputGroup.Text>€</InputGroup.Text>\n              <Form.Control.Feedback type=\"invalid\">\n                {errors.moneyPlayed}\n              </Form.Control.Feedback>\n            </InputGroup>\n          </Form.Group>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"danger\" type=\"submit\">\n            Añadir\n          </Button>\n        </Modal.Footer>\n      </Form>\n    </Modal>\n  );\n};\n\nconst OwnedTickets = (props) => {\n  const {\n    loading,\n    lotteryStarted,\n    lotteryFinished,\n    aggregateData,\n    tickets,\n    addTicket,\n    removeTicket,\n  } = props;\n\n  const [showAddTicket, setShowAddTicket] = useState(false);\n  const [clicked, setClicked] = useState(false);\n  const [errors, setErrors] = useState({});\n\n  const isMobile = useMediaQuery({ query: \"(max-width: 650px)\" });\n\n  const submitTicketForm = (event) => {\n    event.preventDefault();\n    const number = parseInt(event.target.number.value);\n    const moneyPlayed = parseInt(event.target.moneyPlayed.value);\n\n    setClicked(true);\n\n    let err = {};\n    if (!number) {\n      err[\"number\"] = \"Debes proporcionar un número de décimo.\";\n    }\n    if (number < 0 || number >= 100000) {\n      err[\"number\"] = \"El número del décimo debe estar entre 00000 y 99999.\";\n    }\n    if (!moneyPlayed) {\n      err[\"moneyPlayed\"] = \"Debes introducir el dinero jugado.\";\n    }\n    if (moneyPlayed <= 0) {\n      err[\"moneyPlayed\"] = \"El dinero jugado debe ser mayor a 0.\";\n    }\n\n    if (Object.keys(err).length === 0) {\n      setClicked(false);\n      setShowAddTicket(false);\n      addTicket(number, moneyPlayed);\n    } else {\n      setErrors(err);\n    }\n  };\n\n  return (\n    <>\n      <div id=\"tickets\">\n        <div id=\"tickets-header\">\n          <h2>Tus décimos</h2>\n          {!isMobile && tickets.length === 0 && (\n            <button\n              id=\"add-ticket-header\"\n              disabled={loading}\n              onClick={() => setShowAddTicket(true)}\n            >\n              <span>＋</span>Añadir décimo\n            </button>\n          )}\n        </div>\n        {loading ? (\n          <Loading />\n        ) : (\n          <>\n            {tickets.length > 0 && (\n              <div id=\"aggregate-data\">\n                <div className=\"aggregate-item\">\n                  <h4>Ganacias totales</h4>\n                  <p>{aggregateData.totalEarnings}€</p>\n                </div>\n                <div className=\"aggregate-item\">\n                  <h4>Dinero jugado</h4>\n                  <p>{aggregateData.totalMoneyPlayed}€</p>\n                </div>\n              </div>\n            )}\n            <div id=\"tickets-grid\">\n              {isMobile && (\n                <button\n                  id=\"add-ticket-mobile\"\n                  disabled={loading}\n                  onClick={() => setShowAddTicket(true)}\n                >\n                  <span>＋</span> Añadir décimo\n                </button>\n              )}\n              {tickets.map((ticket, idx) => (\n                <Ticket\n                  imgData={ticket.imgData}\n                  prize={ticket.prize}\n                  earnings={ticket.earnings}\n                  lotteryStarted={lotteryStarted}\n                  lotteryFinished={lotteryFinished}\n                  removeTicket={() => removeTicket(idx)}\n                  key={`ticket-${idx}`}\n                />\n              ))}\n              {!isMobile && tickets.length > 0 && (\n                <button\n                  id=\"add-ticket\"\n                  disabled={loading}\n                  onClick={() => setShowAddTicket(true)}\n                >\n                  <p>\n                    <span>＋</span>Añadir décimo\n                  </p>\n                </button>\n              )}\n            </div>\n            {tickets.length === 0 && (\n              <div id=\"no-tickets\">\n                No tienes ningún décimo añadido todavía.\n              </div>\n            )}\n          </>\n        )}\n      </div>\n      <AddTicketModal\n        handleClose={() => {\n          setShowAddTicket(false);\n          setClicked(false);\n        }}\n        submitForm={submitTicketForm}\n        showModal={showAddTicket}\n        clicked={clicked}\n        errors={errors}\n      />\n    </>\n  );\n};\n\nexport default OwnedTickets;\n","import \"./footer.scss\";\n\nconst Footer = () => {\n  return (\n    <div id=\"footer\">\n      <p>\n        Hecho por{\" \"}\n        <a href=\"https://albertmercade.com\" target=\"_blank\">\n          Albert Mercadé\n        </a>\n      </p>\n    </div>\n  );\n};\n\nexport default Footer;\n","export default __webpack_public_path__ + \"static/media/2023-ticket-template.4848cd2b.jpg\";","import { createCanvas, loadImage } from \"canvas\";\nimport ticketTemplate from \"../assets/images/2023-ticket-template.jpg\";\n\nconst NUMSDICT = {\n  0: \"CERO\",\n  1: \"UNO\",\n  2: \"DOS\",\n  3: \"TRES\",\n  4: \"CUATRO\",\n  5: \"CINCO\",\n  6: \"SEIS\",\n  7: \"SIETE\",\n  8: \"OCHO\",\n  9: \"NUEVE\",\n};\n\nconst numToArray = (number) => {\n  const numArray = number.toString().split(\"\");\n  return Array(5 - numArray.length)\n    .fill(\"0\")\n    .concat(numArray);\n};\n\nconst generateLotteryTicket = async (\n  ticketNumber = Array(5).fill(\"0\"),\n  money = 20\n) => {\n  const WIDTH = 1000;\n  const HEIGHT = 590;\n\n  const canvas = createCanvas(WIDTH, HEIGHT);\n  const context = canvas.getContext(\"2d\");\n\n  const ticketTemplateImage = await loadImage(ticketTemplate);\n  context.drawImage(ticketTemplateImage, 0, 0, WIDTH, HEIGHT);\n\n  context.font = \"bold 50pt Arial\";\n  context.textAlign = \"center\";\n  context.fillStyle = \"#000\";\n  context.fillText(money, 892.5, 427);\n\n  for (const [idx, num] of ticketNumber.entries()) {\n    // Big number\n    context.font = \"800 73pt Inter, Arial\";\n    context.textAlign = \"center\";\n    context.fillStyle = \"#000\";\n    context.fillText(num, 385 + 90 * idx, 160);\n\n    // Small number text\n    context.font = \"bold 11pt Inter, Arial\";\n    context.textAlign = \"center\";\n    context.fillStyle = \"#000\";\n    context.fillText(NUMSDICT[num], 385 + 90 * idx, 180);\n  }\n\n  return canvas.toDataURL(\"image/png\");\n};\n\nexport { numToArray, generateLotteryTicket };\n","import { useState, useEffect } from \"react\";\nimport superagent from \"superagent\";\n\n// Local components\nimport Header from \"./components/header/header\";\nimport StatusInfo from \"./components/statusInfo/statusinfo\";\nimport OwnedTickets from \"./components/ownedTickets/ownedTickets\";\nimport Footer from \"./components/footer/footer\";\n\n// Utils\nimport { numToArray, generateLotteryTicket } from \"./utils/generateTicketUtil\";\nimport { nextDrawDate } from \"./utils/date.utils\";\n\n// Styling\nimport \"./App.scss\";\n\nconst NEXT_DRAW_DATE = nextDrawDate();\n\nconst App = () => {\n  const [ticketInfoList, setTicketInfoList] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [aggregate, setAggregate] = useState({});\n  const [lotteryStatus, setLotteryStatus] = useState(-1);\n  const [lotteryStarted, setLotteryStarted] = useState(false);\n  const [lotteryFinished, setLotteryFinished] = useState(false);\n\n  const getTicketsData = async (ticketList) => {\n    const results = await Promise.all(\n      ticketList.map(async (ticket) => {\n        const resp = await superagent.get(\n          `https://y2i7gbq153.execute-api.eu-west-3.amazonaws.com/dev?n=${ticket.number}`\n        );\n\n        const numberArray = numToArray(ticket.number);\n        const imgData = await generateLotteryTicket(\n          numberArray,\n          ticket.moneyPlayed\n        );\n\n        return {\n          ...ticket,\n          numberArray,\n          prize: resp.body.premio,\n          earnings: (resp.body.premio / 20) * ticket.moneyPlayed,\n          imgData,\n        };\n      })\n    );\n\n    return results;\n  };\n\n  const addTicket = async (number, moneyPlayed) => {\n    setLoading(true);\n\n    // Get ticket object\n    const ticket = { number, moneyPlayed };\n\n    // Update localStorage\n    let ticketList = JSON.parse(localStorage.getItem(\"ticket_list\")) || [];\n    ticketList.unshift(ticket);\n    localStorage.setItem(\"ticket_list\", JSON.stringify(ticketList));\n\n    // Update ticketInfoList\n    const [ticketInfo, ..._] = await getTicketsData([ticket]);\n    setTicketInfoList([ticketInfo, ...ticketInfoList]);\n\n    // Update aggregates\n    setAggregate({\n      totalEarnings: aggregate.totalEarnings + ticketInfo.earnings,\n      totalMoneyPlayed: aggregate.totalMoneyPlayed + ticketInfo.moneyPlayed,\n    });\n\n    setLoading(false);\n  };\n\n  const removeTicket = async (idx) => {\n    // Update localStorage\n    const ticketList = JSON.parse(localStorage.getItem(\"ticket_list\")) || [];\n    ticketList.splice(idx, 1);\n    localStorage.setItem(\"ticket_list\", JSON.stringify(ticketList));\n\n    // Update ticket info list\n    const [ticketInfo] = ticketInfoList.splice(idx, 1);\n    setTicketInfoList(ticketInfoList);\n\n    // Update aggregates\n    setAggregate({\n      totalEarnings: aggregate.totalEarnings - ticketInfo.earnings,\n      totalMoneyPlayed: aggregate.totalMoneyPlayed - ticketInfo.moneyPlayed,\n    });\n  };\n\n  useEffect(() => {\n    setLoading(true);\n\n    // Get saved tickets in local storage, otherwise empty Array\n    const ticketList = JSON.parse(localStorage.getItem(\"ticket_list\")) || [];\n\n    // Get ticket prizes from El Pais Christmas Lottery API\n    const loadTicketPrizesAndImgs = async (ticketList) => {\n      const ticketPrizes = await getTicketsData(ticketList);\n      setTicketInfoList(ticketPrizes);\n\n      setAggregate({\n        totalEarnings: ticketPrizes.reduce(\n          (sum, ticket) => sum + ticket.earnings,\n          0\n        ),\n        totalMoneyPlayed: ticketPrizes.reduce(\n          (sum, ticket) => sum + ticket.moneyPlayed,\n          0\n        ),\n      });\n\n      const respStatus = await superagent.get(\n        \"https://y2i7gbq153.execute-api.eu-west-3.amazonaws.com/dev?s=1\"\n      );\n      setLotteryStatus(respStatus.body.status);\n      setLotteryStarted(respStatus.body.status > 0);\n      setLotteryFinished(respStatus.body.status > 1);\n    };\n    loadTicketPrizesAndImgs(ticketList);\n\n    // Set loading to false\n    setLoading(false);\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <div id=\"content-wrapper\">\n        <Header />\n        <StatusInfo\n          lotteryStatus={lotteryStatus}\n          nextDrawDate={NEXT_DRAW_DATE}\n        />\n        <OwnedTickets\n          loading={loading}\n          lotteryStarted={lotteryStarted}\n          lotteryFinished={lotteryFinished}\n          aggregateData={aggregate}\n          tickets={ticketInfoList}\n          addTicket={addTicket}\n          removeTicket={removeTicket}\n        />\n      </div>\n      <Footer />\n    </div>\n  );\n};\n\nexport default App;\n","export const nextDrawDate = () => {\n  const currDate = new Date();\n  const currYear = currDate.getFullYear();\n  const lotteryDate = new Date(`${currYear}-12-22T09:00:00.000+01:00`);\n\n  if (lotteryDate - currDate < 0) lotteryDate.setFullYear(currYear + 1);\n\n  return lotteryDate;\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}